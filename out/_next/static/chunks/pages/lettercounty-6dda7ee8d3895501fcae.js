(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{6156:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},8788:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(6156);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(7294),i=a.createElement,l=i("svg",{className:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",alt:"Back arrow icon"},i("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L3.71 8.71C3.08 8.08 2 8.52 2 9.41V15c0 .55.45 1 1 1h5.59c.89 0 1.34-1.08.71-1.71l-1.91-1.91c1.39-1.16 3.16-1.88 5.12-1.88 3.16 0 5.89 1.84 7.19 4.5.27.56.91.84 1.5.64.71-.23 1.07-1.04.75-1.72C20.23 10.42 16.65 8 12.5 8z"})),u=i("svg",{className:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",alt:"Forward arrow icon"},i("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.16 0-7.74 2.42-9.44 5.93-.32.67.04 1.47.75 1.71.59.2 1.23-.08 1.5-.64 1.3-2.66 4.03-4.5 7.19-4.5 1.95 0 3.73.72 5.12 1.88l-1.91 1.91c-.63.63-.19 1.71.7 1.71H21c.55 0 1-.45 1-1V9.41c0-.89-1.08-1.34-1.71-.71l-1.89 1.9z"})),s=i("svg",{className:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",alt:"Clipboard icon"},i("path",{d:"M0 0h24v24H0z",fill:"none"}),i("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}));var f=function(e){var t,n;try{(t=document.createElement("textarea")).setAttribute("readonly",!0),t.setAttribute("contenteditable",!0),t.style.position="fixed",t.value=e,document.body.appendChild(t),t.focus(),t.select();var r=document.createRange();r.selectNodeContents(t);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),t.setSelectionRange(0,t.value.length),n=document.execCommand("copy")}catch(a){console.error(a),n=null}finally{document.body.removeChild(t)}if(!n){var c=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(!(n=prompt("Press ".concat(c?"\u2318C":"CTRL+C"),e)))return!1}return!0},d=a.createElement;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=(0,a.useRef)(),t=(0,a.useState)(null),n=t[0],r=t[1],o=(0,a.useState)(0),i=o[0],v=o[1],p=(0,a.useState)([{lines:[""],selectionStart:{line:0,char:0},selectionEnd:{line:0,char:0}}]),m=p[0],y=p[1],g=(0,a.useState)(0),b=g[0],w=g[1];(0,a.useEffect)((function(){w(window.innerHeight)}),[]),(0,a.useEffect)((function(){var e=function(){w(window.innerHeight)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var C=function(){i>0&&v(i-1)},O=function(){m.length-1>i&&v(i+1)};return(0,a.useEffect)((function(){var e=function(e){e.ctrlKey&&"y"===e.key||"z"===(e.shiftKey&&e.metaKey&&e.key)?(e.preventDefault(),O()):(e.ctrlKey||e.metaKey)&&"z"===e.key&&(e.preventDefault(),C())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[i]),(0,a.useEffect)((function(){var t=m[i],n=t.lines,r=t.selectionStart,o=t.selectionEnd,c=n.slice(0,r.line).reduce((function(e,t){return e+t.length+1}),0),a=n.slice(0,o.line).reduce((function(e,t){return e+t.length+1}),0);e.current.setSelectionRange(c+r.char,a+o.char)}),[i,e]),d("div",{className:"lettercounty",style:{minHeight:b}},d("header",{className:"App-header"},d("span",null,n||"lettercounty"),d("div",{className:"buttons-container"},d("div",{id:"undoContainer",className:"button-container ".concat(0===i?"disabled":""),onClick:C,title:"Undo"},l),d("div",{id:"redoContainer",className:"button-container ".concat(i===m.length-1?"disabled":""),onClick:O,title:"Redo"},u),d("div",{id:"contentPasteContainer",className:"button-container",onClick:function(){var e=m[i].lines.join("\n");if(0===e.length)r("nothing to copy!");else{var t=f(e);r(t?"copied to clipboard":"copy failed :(")}setTimeout((function(){r(null)}),1500)},title:"Copy to clipboard"},s))),d("textarea",{type:"text",id:"my-good-textarea",className:"my-good-textarea",value:m[i].lines.join("\n"),onChange:function(e){for(var t,n,r=e.target,o=r.value,a=r.selectionStart,l=r.selectionEnd,u=o.split("\n"),s=u.map((function(e){return e.length})).reduce((function(e,t,n){return 0===n?[t+1]:[].concat(c(e),[t+1+e[n-1]])}),[]),f=u.reduce((function(e,t){var n=t.split(/[^a-zA-Z]+/).join(""),r=n.length;return h(h({},e),{},{lines:[].concat(c(e.lines),[n]),max:Math.max(e.max,r)})}),{max:0,lines:[]}),d=0;d<s.length;d++){var p=f.lines[d].length;if((0===d||s[d-1]<a)&&s[d]>=a){var g=a-(s[d-1]||0)<=p;t=a===(s[d]||0)?{line:d+1,char:0}:g?{line:d,char:a-(s[d-1]||0)}:{line:d,char:p}}if((0===d||s[d-1]<l)&&s[d]>=l){var b=l-(s[d-1]||0)<=p;n=l===(s[d]||0)?{line:d+1,char:0}:b?{line:d,char:l-(s[d-1]||0)}:{line:d,char:p}}}var w=f.lines.map((function(e){var t=f.max+1-e.length,n=new Array(t).fill(" ");return 0===e.length?e:"".concat(e).concat(n.join(""),"(").concat(e.length,")")}));y([].concat(c(m.slice(0,i+1)),[{lines:w,selectionStart:t,selectionEnd:n}])),v(i+1)},ref:e,tabIndex:"0",autoFocus:!0,spellCheck:!1}))}},9848:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lettercounty",function(){return n(8788)}])}},function(e){e.O(0,[888,774,179],(function(){return t=9848,e(e.s=t);var t}));var t=e.O();_N_E=t}]);